<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <title></title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script type="text/javascript" src="js/flexible2.0.js"></script>
    <script type="text/javascript" src="js/zepto.js"></script>
</head>

<body>
    <div class="h-banner"><a href="#" class="btn-lqwy">领取万元小鱼专属建材大礼包></a><img src="images/h_banner.jpg"></div>
    <div class="h-title-1">本期优质家居好物</div>
    <div class="swiper-container swiper-container-1">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <div class="pic"><img src="upload/demo_2.jpg" /></div>
            </div>
            <div class="swiper-slide">
                <div class="pic"><img src="upload/demo_2.jpg" /></div>
            </div>
            <div class="swiper-slide">
                <div class="pic"><img src="upload/demo_2.jpg" /></div>
            </div>
            <div class="swiper-slide">
                <div class="pic"><img src="upload/demo_2.jpg" /></div>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="js/swiper/js/swiper.min.js"></script>
    <link rel="stylesheet" type="text/css" href="js/swiper/css/swiper.min.css">
    <script type="text/javascript">

    var scaleDistance = 0,
        opacityDistance = 0,
        slideScale=0.96,
        slideOpacity=0.6;


    var swiper = new Swiper('.swiper-container', {

        loop: true,
        slidesPerView: "auto",
        centeredSlides: true,
        pagination: {
            el: '.swiper-pagination',
            clickable: true,
        },
        on: {
            init: function() {
                this.slideWidth = $(this.slides[this.activeIndex]).children(".pic").width();
                this.slideScale = slideScale;
                this.slideOpacity =slideOpacity;

                $(this.slides[this.activeIndex + 1]).css({ "transform": "scale(" + this.slideScale + ")", "opacity": "" + this.slideOpacity + "" });
                $(this.slides[this.activeIndex - 1]).css({ "transform": "scale(" + this.slideScale + ")", "opacity": "" + this.slideOpacity + "" });
            },
            touchMove: function(event) {
                if (this.touches.diff > 0) {
                    //console.dir("向右滑"),上一页
                    

                    scaleDistance=this.touches.diff / this.slideWidth * 0.04 / 100;
                    opacityDistance=this.touches.diff / this.slideWidth * 0.4 / 100;

                    this.slideScale=this.slideScale+scaleDistance;
                    this.slideOpacity=this.slideOpacity+opacityDistance;

                    this.slideOpacity += this.touches.diff / this.slideWidth * 0.4;
                    $(this.slides[this.activeIndex - 1]).css({ "transform": "scale(" + this.slideScale + ")", "opacity": "" + this.slideOpacity + "" });

                    $(this.slides[this.activeIndex]).css({ "transform": "scale(" +(1-scaleDistance)+ ")", "opacity": "" +(1-opacityDistance)+ "" });
                } else {
                    //console.dir("向左滑")下一页
                }
            },
            slideChangeTransitionEnd: function() {
                 $(this.slides[this.activeIndex-1]).css({ "transform": "scale(0.96)", "opacity":0.6});
                $(this.slides[this.activeIndex]).css({ "transform": "scale(1)", "opacity":1});
                 $(this.slides[this.activeIndex+1]).css({ "transform": "scale(0.96)", "opacity":0.6});
            },
        },
    });
    </script>
</body>

</html>