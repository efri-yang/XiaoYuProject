<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <title>首页</title>
    <script src="zxtkjs/zepto.js"></script>
    <script src="zxtkjs/flexible2.0.js"></script>
    <script src="zxtkjs/common.js"></script>
    <link rel="stylesheet" type="text/css" href="zxtkcss/style.css">
    <link rel="stylesheet" type="text/css" href="zxtkcss/tkdetail.css">
</head>

<body>
    <div class="container">
        <a name="gotop" class="gotop-placeholder"></a>
        <!-- <div class="shop-tab-hds-wrap">
                <ul class="shop-tab-hds">
                    <li class="active"><a href="N-sjsj-Case.html">设计案例</a></li>
                    <li><a href="N-sjsj-YouHuiHuoDong.html">优惠活动</a></li>
                    <li><a href="N-sjsj-VRKanFang.html">VR看房</a></li>
                    <li><a href="N-sjsj-ShangPinXiangQing.html">商家简介</a></li>       
                </ul>
            </div> -->
        <div class="shop-tab-bds active" id="J_shop-case">
            <div class="tk-tbl-list">
                <table class="casedetail-tbl">
                <thead>
                    <tr>
                        <th width="width:16%"></th>
                        <th width="width:34%"></th>
                        <th width="width:16%"></th>
                        <th width="width:34%"></th>
                    </tr>
                </thead>
                <tr>
                    <td class="para-tit">装饰公司:</td>
                    <td class="para-val">111</td>
                    <td class="para-tit">设计人员：</td>
                    <td class="para-val">张文杰</td>
                </tr>
                <tr>
                    <td class="para-tit">设计风格:</td>
                    <td class="para-val">北欧</td>
                    <td class="para-tit">装修费用：</td>
                    <td class="para-val">新房自住</td>
                </tr>
            </table>
            


            <table class="casedetail-tbl">
                <thead>
                    <tr>
                        <th width="width:16%"></th>
                        <th width="width:34%"></th>
                        <th width="width:16%"></th>
                        <th width="width:34%"></th>
                    </tr>
                </thead>
                <tbody><tr>
                    <td class="para-tit">装饰公司:</td>
                    <td class="para-val">222</td>
                    <td class="para-tit">设计人员：</td>
                    <td class="para-val">张文杰</td>
                </tr>
                <tr>
                    <td class="para-tit">设计风格:</td>
                    <td class="para-val">北欧</td>
                    <td class="para-tit">装修费用：</td>
                    <td class="para-val">新房自住</td>
                </tr>
            </tbody></table>

            <table class="casedetail-tbl">
                <thead>
                    <tr>
                        <th width="width:16%"></th>
                        <th width="width:34%"></th>
                        <th width="width:16%"></th>
                        <th width="width:34%"></th>
                    </tr>
                </thead>
                <tbody><tr>
                    <td class="para-tit">装饰公司:</td>
                    <td class="para-val">3333</td>
                    <td class="para-tit">设计人员：</td>
                    <td class="para-val">张文杰</td>
                </tr>
                <tr>
                    <td class="para-tit">设计风格:</td>
                    <td class="para-val">北欧</td>
                    <td class="para-tit">装修费用：</td>
                    <td class="para-val">新房自住</td>
                </tr>
            </tbody></table>

            <table class="casedetail-tbl">
                <thead>
                    <tr>
                        <th width="width:16%"></th>
                        <th width="width:34%"></th>
                        <th width="width:16%"></th>
                        <th width="width:34%"></th>
                    </tr>
                </thead>
                <tbody><tr>
                    <td class="para-tit">装饰公司:</td>
                    <td class="para-val">4444</td>
                    <td class="para-tit">设计人员：</td>
                    <td class="para-val">张文杰</td>
                </tr>
                <tr>
                    <td class="para-tit">设计风格:</td>
                    <td class="para-val">北欧</td>
                    <td class="para-tit">装修费用：</td>
                    <td class="para-val">新房自住</td>
                </tr>
            </tbody></table>
            </div>
            <!-- <div class="casedetail-desc">
                <p style="font-size: 20px">幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗</p>
                <p>幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗</p>
                <p>幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗</p>
                <p>幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗幸福了吗</p>
            </div> -->
            <div class="swiper-container casedetail-swiper-container">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <img src="upload/pro_1.jpg" />
                        <div class="tag">
                            <span>厨房</span>
                            <span>厨房</span>
                            <span>厨房</span>
                        </div>
                    </div>
                    <div class="swiper-slide"><img src="upload/pro_2.jpg" />
                        <div class="tag">
                            <span>厨房</span>
                            <span>厨房</span>
                        </div>
                    </div>
                    <div class="swiper-slide"><img src="upload/pro_3.jpg" />
                        <div class="tag">
                            <span>厨房</span>
                            <span>厨房</span>
                            <span>厨房</span>
                        </div>
                    </div>
                    <div class="swiper-slide"><img src="upload/pro_4.jpg" />
                        <div class="tag">
                            <span>厨房</span>
                        </div>
                    </div>
                    <div class="swiper-slide"><img src="upload/pro_6.jpg" />
                        <div class="tag">
                            <span>厨房</span>
                            <span>厨房</span>
                        </div>
                    </div>
                </div>
                <div class="swiper-button-next" id="J_swiper-button-next"><b></b></div>
                <div class="swiper-button-prev" id="J_swiper-button-prev"><b></b></div>

                <a href="#" class="next-page" id="J_next-page"><b></b></a>
                <a href="#" class="prev-page"  id="J_prev-page"><b></b></a>
            </div>
            <!-- <ul class="casedetail-swiper-guide">
                <li><a href="#">上个案例</a></li>
                <li><a href="#">下个案例</a></li>
            </ul> -->
        </div>
    </div>
    <div class="casedetail-small-wrap">
        <div class="swiper-container casedetail-swiper-small-container">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <div class="pic"><img src="upload/pro_6.jpg"></div>
                </div>
                <div class="swiper-slide">
                    <div class="pic"><img src="upload/pro_7.jpg"></div>
                </div>
                <div class="swiper-slide">
                    <div class="pic"><img src="upload/pro_6.jpg"></div>
                </div>
                <div class="swiper-slide">
                    <div class="pic"><img src="upload/pro_6.jpg"></div>
                </div>
                <div class="swiper-slide">
                    <div class="pic"><img src="upload/pro_6.jpg"></div>
                </div>
            </div>
            <a href="#" class="prev-page" id="J_small-prev-page"><b>上一页</b></a>
            <a href="#" class="next-page" id="J_small-next-page"><b>下一页</b></a>
        </div>
    </div>
    <div class="pbfoot"></div>
    <ul class="fixed-bar-guide">
        <li class="gohome"><a href="index.html"></a></li>
        <li class="goback"><a href="#"></a></li>
        <li class="gotop"><a href="#gotop"></a></li>
    </ul>
    <!--  -->

    
    @@include("./views/_fixedbar.html")
    @@include("./views/_DengJiForm.html")

    <!-- ************************************************** -->
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
    <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
        <!-- Background of PhotoSwipe. 
         It's a separate element, as animating opacity is faster than rgba(). -->
        <div class="pswp__bg"></div>
        <!-- Slides wrapper with overflow:hidden. -->
        <div class="pswp__scroll-wrap">
            <!-- Container that holds slides. PhotoSwipe keeps only 3 slides in DOM to save memory. -->
            <div class="pswp__container">
                <!-- don't modify these 3 pswp__item elements, data is added later on -->
                <div class="pswp__item"></div>
                <div class="pswp__item"></div>
                <div class="pswp__item"></div>
            </div>
            <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
            <div class="pswp__ui pswp__ui--hidden">
                <div class="pswp__top-bar">
                    <!--  Controls are self-explanatory. Order can be changed. -->
                    <div class="pswp__counter"></div>
                    <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                    <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                    <!-- element will get class pswp__preloader--active when preloader is running -->
                    <div class="pswp__preloader">
                        <div class="pswp__preloader__icn">
                            <div class="pswp__preloader__cut">
                                <div class="pswp__preloader__donut"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                    <div class="pswp__share-tooltip"></div>
                </div>
                <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
                </button>
                <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
                </button>
                <div class="pswp__caption">
                    <div class="pswp__caption__center"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- ************************************************** -->
    <script type="text/javascript" src="zxtkjs/zepto-mvalidate.js"></script>
    <script src="zxtkjs/swiper/js/swiper.jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="zxtkjs/swiper/css/swiper.min.css">
    <link rel="stylesheet" type="text/css" href="zxtkjs/photoswipe/photoswipe.css">
    <link rel="stylesheet" type="text/css" href="zxtkjs/photoswipe/default-skin/default-skin.css">
    <script type="text/javascript" src="zxtkjs/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="zxtkjs/photoswipe/photoswipe-ui-default.min.js"></script>
<style type="text/css">
    .pswp{
        touch-action:auto;
    }
</style>
    <script type="text/javascript">

    $(function() {
        var currIndex = 0;
       
        var $slideSmall = $(".casedetail-swiper-small-container .swiper-slide");
        var items = [{
                    src: 'upload/pro_1.jpg'
                },
                {
                    src: 'https://placekitten.com/1200/900'
                },
                {
                    src: 'upload/pro_3.jpg'

                },
                {
                    src: 'upload/pro_4.jpg'                   
                },
                {
                    src: 'upload/pro_6.jpg'
                    

                }
            ];

             $.each(items,function(index, obj) {
                 var img = new Image();
                 img.src = obj.src;
                 img.onload = function(){
                    img.onload = null;
                    obj.w=img.width;
                    obj.h=img.height;
                 }
            });
           




        var openPhotoSwipe = function(index) {
            var pswpElement = document.querySelectorAll('.pswp')[0];

            // build items array
            // define options (if needed)
            var options = {
                // history & focus options are disabled on CodePen        
                history: false,
                focus: false,
            };
            options.index = index;

            var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);
            gallery.init();


            // $(".pswp").on("click",function(event){
            //     alert("xxx")
            //     console.dir(event.target.tagName);
            //     if(event.target.tagName !="IMG"){
            //         gallery.close()
            //     }
            // });
            
            $(".pswp").on("touchstart",function(event){
                console.dir(event.target.tagName);
                if(event.target.tagName!="IMG"){
                    gallery.close();
                   
                }
            });
           
        };

        

        $(".casedetail-swiper-container .swiper-slide").on("click", function() {
            var index = $(".casedetail-swiper-container .swiper-slide").index(this);
            openPhotoSwipe(index);
           
        });


        
        


        function toggleIndex(index){
            if(index==$(".casedetail-swiper-small-container .swiper-slide").length-1){
                    $("#J_swiper-button-next").hide();
                    $("#J_next-page,#J_small-next-page").show();
                }else {
                    $("#J_swiper-button-next").show();
                    $("#J_next-page,#J_small-next-page").hide();
                }
            if(index==0){
                $("#J_swiper-button-prev").hide();
                    $("#J_prev-page,#J_small-prev-page").show();
            }else{
                $("#J_swiper-button-prev").show();
                $("#J_prev-page,#J_small-prev-page").hide();
            }
            $(".tk-tbl-list .casedetail-tbl").eq(index).addClass("active").siblings().removeClass("active");
        }

        var swiper1 = new Swiper('.casedetail-swiper-container', {
            initialSlide :0,
            paginationClickable: true,
            nextButton: '.swiper-button-next',
            prevButton: '.swiper-button-prev',
            spaceBetween: 0,
            onTouchStart:function(swiper){
                swiper.currX=swiper.touches.startX;
            },
            onTouchEnd:function(swiper){
                swiper.distX=swiper.touches.currentX;
                var distance=swiper.distX-swiper.currX;
                if(swiper.isEnd && swiper.translate < 0 && distance <0){     
                    alert("下一页跳转写在这里！");
                }else if(swiper.isBeginning && swiper.translate >0 && distance >0){
                    alert("上一页跳转写在这里！");
                }
            }
        });
         
        var swiper2 = new Swiper('.casedetail-swiper-small-container', {
            initialSlide :0,
            spaceBetween: 0,
            centeredSlides: true,
            slidesPerView: 'auto',
            touchRatio: 0.2,
            slideToClickedSlide: true,
            onInit:function(swiper){
                toggleIndex(swiper.activeIndex);
            },
            onTransitionEnd: function(swiper){
                 toggleIndex(swiper.activeIndex);
            }


        });

        swiper1.params.control = swiper2;
        swiper2.params.control = swiper1;
    })
    </script>
</body>

</html>